<h1 class="text-center mt-5">Gestor de usuarios</h1>

<div class="container mt-5 px-2">

    <div class="mb-2 d-flex justify-content-between align-items-center">

        <div class="position-relative">
            <span class="position-absolute search"><i class="fa fa-search"></i></span>
            <input class="form-control w-100" placeholder="Search by order#, name...">
        </div>

        <div class="px-2">

            <span>Filters <i class="fa fa-angle-down"></i></span>
            <i class="fa fa-ellipsis-h ms-3"></i>
        </div>

    </div>
    <div class="table-responsive">
    <table class="table table-responsive table-borderless">

      <thead>
        <tr class="bg-light">
          <th scope="col" width="5%">#</th>
          <th scope="col" width="20%">Email</th>
          <th scope="col" width="10%">Nombre</th>
          <th scope="col" width="20%">Apellidos</th>
          <th scope="col" width="20%">Género</th>
          <th scope="col" width="20%">Edad</th>
          <th scope="col" width="20%">Altura</th>
          <th scope="col" width="20%">Peso</th>
          <th scope="col" width="20%">Rol</th>
        </tr>
      </thead>
  <tbody *ngFor="let usuario of usuarios, let i = index">
    <tr>
      <td>{{ usuario.id }}</td>
      <td>{{ usuario.email }}</td>
      <td>{{ usuario.nombre }}</td>
      <td>{{ usuario.apellidos }}</td>
      <td>{{ usuario.genero }}</td>
      <td>{{ usuario.edad }}</td>
      <td>{{ usuario.altura }}</td>
      <td>{{ usuario.peso }}</td>
      <td>{{ usuario.rol }}</td>
      <td><button class="btn btn-danger" (click)="deleteUsuario(usuario.id)">Eliminar</button></td>
    </tr>
  </tbody>
</table>

  <button class="btn btn-primary mt-3 mb-3" (click)="muestraFormulario()">Añadir un usuario</button>

  <div *ngIf="mostrarFormulario" class="mt-5">
    <h2>Añadir nuevo usuario</h2>
    <form (submit)="createUsuario()">
      <div class="form-group input-group mb-3">
        <input [(ngModel)]="nuevoUsuario.email" name="email" class="form-control" placeholder="Email" type="email">
      </div>
      <div class="form-group input-group mb-3">
        <input [(ngModel)]="nuevoUsuario.password" name="password" class="form-control" placeholder="Contraseña" type="password">
      </div>
      <div class="form-group input-group mb-3">
        <input [(ngModel)]="nuevoUsuario.nombre" name="nombre" class="form-control" placeholder="Nombre" type="text">
      </div>
      <div class="form-group input-group mb-3">
        <input [(ngModel)]="nuevoUsuario.apellidos" name="apellidos" class="form-control" placeholder="Apellidos" type="text">
      </div>
      <div class="form-group input-group mb-3">
        <input [(ngModel)]="nuevoUsuario.genero" name="genero" class="form-control" placeholder="Género" type="text">
      </div>
      <div class="form-group input-group mb-3">
        <input [(ngModel)]="nuevoUsuario.edad" name="edad" class="form-control" placeholder="Edad" type="text">
      </div>
      <div class="form-group input-group mb-3">
        <input [(ngModel)]="nuevoUsuario.altura" name="altura" class="form-control" placeholder="Altura" type="text">
      </div>
      <div class="form-group input-group mb-3">
        <input [(ngModel)]="nuevoUsuario.peso" name="peso" class="form-control" placeholder="Peso" type="text">
      </div>
      <div class="form-group input-group mb-3">
        <input [(ngModel)]="nuevoUsuario.rol" name="rol" class="form-control" placeholder="Rol" type="text">
      </div>
      <div class="form-group">
        <button type="submit" class="btn btn-success btn-block"> Añadir usuario </button>
      </div>
    </form>
  </div>

  <div *ngIf="contactos" class="mt-3 mb-3 ml-3 mr-3">
    <h1>Clientes que nos han contactado</h1>
    <div *ngFor="let contacto of contactos, let i = index">
      <h2>Correo: {{ contacto.correo }}</h2>
      <p>Nombre: {{ contacto.nombre }}</p>
      <p>Mensaje: {{ contacto.mensaje }}</p>
    </div>
  </div>



  </div>

</div>
